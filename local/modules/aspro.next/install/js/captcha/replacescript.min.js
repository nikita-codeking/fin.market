!function(){function i(a){for(var e=a;e;)if("form"===(e=e.parentNode).nodeName.toLowerCase())return e;return null}function s(a){var e=[],t=null,n=!1;void 0!==a&&(n=null!==a),t=n?a.getElementsByTagName("input"):document.getElementsByName("captcha_word");for(var r=0;r<t.length;r++)"captcha_word"===t[r].name&&e.push(t[r]);return e}function l(a){for(var e=[],t=a.getElementsByTagName("img"),n=0;n<t.length;n++)!/\/bitrix\/tools\/captcha.php\?(captcha_code|captcha_sid)=[^>]*?/i.test(t[n].src)&&"captcha"!==t[n].id||e.push(t[n]);return e}function h(a){var e="recaptcha-dynamic-"+(new Date).getTime();if(null!==document.getElementById(e)){for(var t=null;t=Math.floor(65535*Math.random()),null!==document.getElementById(e+t););e+=t}var n=document.createElement("div");n.id=e,n.className="g-recaptcha",n.attributes["data-sitekey"]=window.asproRecaptcha.key,a.parentNode&&(a.parentNode.className+=" recaptcha_text",a.parentNode.replaceChild(n,a)),renderRecaptchaById(e)}function a(){for(var a,e,t,n,r=function(){var a=s(null);if(0===a.length)return[];for(var e=[],t=0;t<a.length;t++){var n=i(a[t]);null!==n&&e.push(n)}return e}(),c=0;c<r.length;c++){var o=r[c],p=s(o);if(0!==p.length){var d=l(o);if(0!==d.length){for(a=0;a<p.length;a++)h(p[a]);for(a=0;a<d.length;a++)t=d[a],void 0,n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.attributes.src=n,t.style.display="none","src"in t&&(t.parentNode&&(t.parentNode.className+=" recaptcha_tmp_img"),t.src=n);e=o,"function"==typeof $&&$(e).find(".captcha-row label > span").length&&$(e).find(".captcha-row label > span").html(BX.message("RECAPTCHA_TEXT")+' <span class="star">*</span>')}}}}document.addEventListener?document.addEventListener("DOMNodeInserted",function(){try{return function(){if("undefined"!=typeof renderRecaptchaById)for(var a=document.getElementsByClassName("g-recaptcha"),e=0;e<a.length;e++){var t=a[e];if(0===t.innerHTML.length){var n=t.id;if("string"==typeof n&&0!==n.length){if("function"==typeof $){var r=$(t).closest(".captcha-row");r.length&&("3"==window.asproRecaptcha.ver?r.hide():(r.addClass(window.asproRecaptcha.params.recaptchaSize+" logo_captcha_"+window.asproRecaptcha.params.recaptchaLogoShow+" "+window.asproRecaptcha.params.recaptchaBadge),r.find(".captcha_image").addClass("recaptcha_tmp_img"),r.find(".captcha_input").addClass("recaptcha_text"),"invisible"!==window.asproRecaptcha.params.recaptchaSize&&(r.find("input.recaptcha").length||$('<input type="text" class="recaptcha" value="" />').appendTo(r))))}renderRecaptchaById(n)}}}}(),window.renderRecaptchaById&&window.asproRecaptcha&&window.asproRecaptcha.key?(a(),!0):(console.error("Bad captcha keys or module error"),!0)}catch(a){return console.error(a),!0}},!1):console.warn("Your browser does not support dynamic ReCaptcha replacement")}();